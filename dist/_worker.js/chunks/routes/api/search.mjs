import{s as t,d as o,u as e}from"../../runtime.mjs";const r=t,i=o((async t=>{var o,i;const l=e();null==(i=null==(o=null==l?void 0:l.docus)?void 0:o.search)||i.mode;let n=await r(t).find();return n=await Promise.all(n.filter((t=>"md"===(null==t?void 0:t._extension)&&!1===(null==t?void 0:t._draft)&&!(null==t?void 0:t._empty))).map((async({_id:t,_path:o,_dir:e,title:r="",description:i="",body:l,...n})=>{var d;const{directoryIcon:a}=n;return a&&console.log({directoryIcon:a}),{id:t,path:o,dir:e,title:r,description:i,keywords:null==(d=null==l?void 0:l.toc)?void 0:d.links.map((t=>null==t?void 0:t.text)),body:extractTextFromAst(l)||""}}))),n}));function extractTextFromAst(t){let o="";if("text"===t.type&&(o+=t.value),t.children)for(const e of t.children)o+=" "+extractTextFromAst(e);return o}export{i as default};
//# sourceMappingURL=search.mjs.map
